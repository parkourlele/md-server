## 创建项目

### 安装nest cli
```bash
# 本地安装nestjs/cli
npm i -g @nestjs/cli

```
### 创建项目
```bash
# 创建项目
nest new server
# 安装依赖 prisma
cd server
npm i prisma --save-dev
npm i @prisma/client
# 初始化prisma 生成prisma/schema.prisma文件和.env文件
npx prisma init

# 在.env文件配置数据库连接例如：
DATABASE_URL="mysql://root:888888@localhost:3306/md_project"
```

### 创建测试数据库
```js
CREATE DATABASE mydb

// 创建prisma模型 prisma/schema.prisma
generator client {
  provider = "prisma-client-js"
}
datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}
model User {
  id    Int     @id   @default(autoincrement())
  name  String
}
// 执行迁移 生成migrations/文件夹执行记录
npx prisma migrate dev --name init
```

## NestJs 命令
```bash
#获取所有命令提示帮助
nest g -h
# 创建module
nest g module prisma module 简写 mo
# 创建service
nest g service prisma servive 简写 s
┌───────────────┬─────────────┬──────────────────────────────────────────────┐
    │ name          │ alias       │ description                                  │
    │ application   │ application │ Generate a new application workspace         │
    │ class         │ cl          │ Generate a new class                         │
    │ configuration │ config      │ Generate a CLI configuration file            │
    │ controller    │ co          │ Generate a controller declaration            │
    │ decorator     │ d           │ Generate a custom decorator                  │
    │ filter        │ f           │ Generate a filter declaration                │
    │ gateway       │ ga          │ Generate a gateway declaration               │
    │ guard         │ gu          │ Generate a guard declaration                 │
    │ interceptor   │ itc         │ Generate an interceptor declaration          │
    │ interface     │ itf         │ Generate an interface                        │
    │ library       │ lib         │ Generate a new library within a monorepo     │
    │ middleware    │ mi          │ Generate a middleware declaration            │
    │ module        │ mo          │ Generate a module declaration                │
    │ pipe          │ pi          │ Generate a pipe declaration                  │
    │ provider      │ pr          │ Generate a provider declaration              │
    │ resolver      │ r           │ Generate a GraphQL resolver declaration      │
    │ resource      │ res         │ Generate a new CRUD resource                 │
    │ service       │ s           │ Generate a service declaration               │
    │ sub-app       │ app         │ Generate a new application within a monorepo │
    └───────────────┴─────────────┴──────────────────────────────────────────────┘
```

## NestJs中接入Prisma
### 创建Prisma模块
```bash
nest g mo prisma
nest g s prisma
```
### 生成一个user模块
```bash
nest g res user #resource缩写选择REST API和CURD模板
```
### 启动项目
```bash
npm run start:dev
```

